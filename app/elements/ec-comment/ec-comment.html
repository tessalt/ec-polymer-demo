<dom-module id="ec-comment">
  <template>
    <div class='ec-dom-comment'> 
      <div class='ec-comment__avatar'> 
        <ec-gravatar email="{{comment.email}}"></ec-gravatar>
      </div> 
      <div class='ec-comment__body'> 
        <h4 class=''>{{comment.author}}<small>
          <span>&nbsp;</span>
          <ec-timestamp timestamp="{{comment.timestamp}}"></ec-timestamp></small>
        </h4> 
        <p>{{comment.text}}</p> 
        <button on-click="reply">Reply</button>
        <div id="replies"></div>
      </div> 
    </div>
  </template>

 <script>
  (function() {    

    Polymer({
      is: 'ec-comment',
      reply: function () {
        var ec = document.createElement('ec-chamber');
        ec.setAttribute('comments', this.comment.children);
        Polymer.dom(this.$.replies).appendChild(ec);
      }
    });
  })();
  </script>

</dom-module>